---
title: Network
date: 2022-09-08 22:05:39
categories: 
  - Network
tags:
  - Web
  - internet
  - http
---


### Keyword
路由器（router）：路由器与我们的设备进行连接，路由与路由之间连接构成巨大的“网络”。
路由器是提供 Wi-Fi 的设备，通常连接到调制解调器。它将信息从互联网发送到个人设备，如电脑、手机和平板电脑。您家中的这些联网设备构成了您的局域网(LAN)。一旦调制解调器从互联网引入信息，路由器就会将此数据分发到您的个人设备。

互联网服务提供商（internet serve provider）：ISP是一家可以管理一些特殊的路由器的公司，这些路由器连接其他 ISP 的路由器。你的网络消息可以被 ISP 捕获并发送到相应的网络。

<!--more-->

**调制解调器（modem）：** 电话这种基础设施将你和外部的世界连在一起，我们通过一种叫调制解调器的设备连接到电话这种网络。modem将网络信息和电话设施可以处理的信息进行转换。

来自[wiki](https://zh.wikipedia.org/wiki/%E8%B0%83%E5%88%B6%E8%A7%A3%E8%B0%83%E5%99%A8) 调制解调器（英语：modem，modulator-demodulator的缩写）俗称猫，是一个将数字信号调变到模拟信号上进行传输，并解调收到的模拟信号为数字信号的电子设备。它的目标是产生能够方便传输的模拟信号并且能够通过解码还原原来的数字信号。根据不同的应用场合，调制解调器可以**使用不同的方法来传送模拟信号**，比如使用光纤，射频无线电或**电话线**等。
使用**普通电话线音频波段进行数据通信**的电话调制解调器是人们最常接触到的调制解调器。

其他常见的调制解调器还包括用于**宽带数据接入**的有线电视电缆调制解调器、ADSL调制解调器和光纤调制解调器。**数字式移动电话（手机）** 实际上也是一种无线方式的调制解调器。现代电信传输设备是为了在不同的介质上远距离的传输大量信息，因此也都以调制解调器的功能为核心。其中，微波调制解调器速率可以达上百万比特每秒；而使用光纤作为传输介质的 **光调制解调器** 可以达到几十Gbps以上，是现在电信传输的骨干。

**宽带调制解调器**
DSL (数字用户回路)数 据机是一种调制解调器是通过铜线或者本地电话网提供数字连接的一种技术。
ADSL（非对称用户数字线路）调制解调器也是一种调制解调器，俗称宽带猫主要区别在于它不止局限在普通电话使用的语音载波的频段。 现在的ADSL调制解调器使用编码正交频分调变。.
VDSL (超高速数字用户回路) 数据机也是一种调制解调器，VDSL允许客户端利用现有铜线获得高带宽服务而不必采用光纤。VDSL和ADSL一样

**光学调制解调器**
（Optical modem）或光modem，中国俗称光猫，指通过光纤介质传输信号，并将光信号调制解调为其他信号的调制解调器。常见于光纤到户的设备。

猫是调制解调器，是用来通过电话线上网的（包括ADSL宽带和普通电话线上网），而路由器是用来组建局域网（包括无线和有线的），也可以与猫一起使用达到一条电话线多台电脑同时上网。直接连猫的速度要快。大部分在连接路由器后的有线连接的速度衰减很小可以忽略不计，无线的速度没有有线的快。

域名：每个网络中的设备都有独一无二的ip地址，为方便，给ip地址取了一个“域名”，我们变可以通过域名通过网络连接到这些电脑。

互联网（internet）和网络（web）的区别：
互联网是一种基础的技术，它允许我们将成千上万的设备连在一起。在这些设备中，有一些我们称为网络服务器的设备可以发送文件并在我们设备的浏览器上显示，这便构成了网络。互联网是基础设施，网络是建立在这种基础设施上的服务，除了网络，还有一些服务，比如邮箱和IRC也是运行在互联网之上的。

### 代理
HTTP 代理只能解释和处理 HTTP 和 HTTPS 网页，而 SOCKS5 代理可以处理任何流量。
Shadowsocks 和 SSR 都是当作 SOCKS5 代理服务器来突破防火长城 GFW 的限制。
代理和 VPN 的主要区别在于：VPN 会对传输流量进行加密，而代理不会加密流量。VPN 提供更稳定的连接，而代理断线的频率较高。

网页，网站，网络服务器和搜索引擎的区别？
>网页是一份显示在网络浏览器上的HTML文档，这种网页文档可以插入各种各样不同类型的资源，例如：
>  - css样式信息--控制页面观感
>  - 脚本--为页面添加交互性
>  - 多媒体--图像，音频，视频

> 网站，也称作"site"（站点），是共享唯一域名的相互链接的网页的集合。访问网站时，输入域名，浏览器将会显示该网站的**主要网页或主页**。

> 网络服务器：互联网上托管了许多网站的计算机。托管的意思即所有的网页和它们的支持文件在该服务器上都可用，当浏览器发起请求时，服务器将任意网页从托管的网站发送到任意用户的浏览器。

> 搜索引擎是一个用来帮你找其他网页的**网站**。浏览器是一个接收并显示网页的软件！搜索引擎则是一个帮助用户从其他网站寻找网页的网站。搜索引擎（谷歌，必应）的主页面经常是我们使用的浏览器（谷歌浏览器）的默认开始页面，所以容易搞混，需要分清基础设施（浏览器）和服务（搜索引擎）。

### MDN 
[什么是网络服务器](https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/What_is_a_web_server#%E9%9D%99%E6%80%81%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AE%B9)


HTTP一般指HTTP协议（超文本传输协议），HTTP is short for "HyperText Transfer Protocol"，是因特网上应用最为广泛的一种网络传输协议，所有WWW（World Wide Web）文件都必须遵守的标准。HTTP用于Web浏览器和Web服务器之间的通信，基于TCP/IP通信协议来传输数据（HTML文件、图片文件、查询结果等）。

HTTPS 经由 HTTP 进行通信，但利用 SSL/TLS 来加密数据包。
HTTP 的 URL 是由 http:// 起始与默认使用端口 80，而 HTTPS 的 URL 则是由 https:// 起始与默认使用端口443。
浏览器作为 HTTP 客户端通过 URL 向 HTTP 服务端即 WEB 服务器发送所有请求。
HTTPS 的主要作用是在不安全的网络上创建一个安全信道，并可在使用适当的加密包和服务器证书可被验证且可被信任时，对窃听和中间人攻击提供合理的防护。
HTTPS 的信任基于预先安装在操作系统中的证书颁发机构（CA）

[HTTP 与 HTTPS 的区别](https://www.runoob.com/w3cnote/http-vs-https.html)

IP address ：Internet Protocol address

---
## 内外网

内网即局域网是指在某一区域内由多台计算机互联成的计算机组，一般是方圆几千米以内。
**内网IP地址就是私有IP地址**，不允许在公网上面传递，只能供内部使用。内网使用了私有地址无法访问internet 会用到**NAT-地址转换技术**，将内部的私有地址转换为可以访问internet的外网地址让内部可以上网。外网IP地址就是除了私有地址和被保留的地址外的所有地址，需要申请才能使用。
如何查电脑局域网IP(内网IP):
```python
ipconfig /all
```

外网即广域网 ，~~又称公网~~ 局域网通过一台服务器或是一个路由器对外连接的网络，这个IP地址是唯一的是连接不同地区局域网或城域网计算机通信的远程网。通常跨接很大的物理范围，所覆盖的范围从几十公里到几千公里，它能连接多个地区、城市和国家，或横跨几个洲并能提供远距离通信，形成国际性的远程网络。广域网并不等同于互联网。
外网IP是全世界唯一的IP地址，仅分配给一个网络设备。而内网IP是由路由器分配给每一部内部使用的设备的IP地址，而内网的所有用户都是通过同一个外网IP地址进行上网的，而内网的IP地址每个人的都不一样，Internet上的用户也无法直接访问到内网用户。简单来说呢，外网IP就是标示了您在整个互联网上的地址，就相当于小区的地址，而内网IP呢，就是标识着您在局域网里面的地址，也就是小区内的几栋几楼几号房子。 
如何查电脑外网IP: 上网查，如[IP地址查询](https://tool.lu/ip/)。
注意，ip查询网站只是获得到你本地出口的IP，即使它是经过转发的IP。
### 区别
一般内网有自己的IP号段，也不会和互联网号段冲突，内网就是从路由器以下开始的，而且IP都是以192开头的IP。外网Ip一般都是用于公司企业，学校等机构的。

内网的ip可以经常换，可以自己定义规则；而外网的ip一般都是固定的，你装好宽带的时候，你的ip就固定下来了。

你家里装了宽带，为了多个人可以用同一个宽带，你买路由器，这时候，所有连接在路由器上的电脑、连接路由器放出来的wifi上的电脑、手机，他们则属于同一个局域网内，你查看他们的网络连接，就会发现都是192开头的，ip的前3个网段数字都是一样的，只有最后一个不一样。这些手机、电脑用的就是内网，但是如果他们都去访问互联网的网址，那么他们对外的ip地址，就是你宽带的ip地址，所有手机和电脑对外都是同一个ip地址，这就是外网。

在局域网中，每台电脑都可以自己分配自己的IP，这个IP只在局域网中有效。而如果你将电脑连接到互联网，你的网络提供商（ISP）的服务器会为你分配一个IP地址，这个IP地址才是你在外网的IP。两个IP同时存在，一个对内，一个对外。

你在内网的机子在上网时，都是在向网关发出请求，再由网关（一般为路由器）用外网IP转到INT网上，接受数据后，再分发到你的内网IP上。






> IPv4地址分为A、B、C、D、E五类，除去特殊作用的D、E两类，剩下的A、B、C三类地址是我们常见的IP地址段。A类地址的容量最大，可以容纳16777214个主机，B类地址可以容纳65534个主机，C类地址可以容纳254个主机。
> 在这三类地址中，绝大多数的IP地址都是公有地址，需要向国际互联网信息中心申请注册。但是在IPv4地址协议中预留了3个IP地址段，**作为私有地址，供组织机构内部使用**。
> 这三个地址段分别位于A、B、C三类地址内：
> - A类地址：10.0.0.0--10.255.255.255
> - B类地址：172.16.0.0--172.16.255.255
> - C类地址：192.168.0.0--192.168.255.255
> 所以局域网在选取使用私有地址时，一般会按照实际需要容纳的主机数来选择私有地址段。常见的局域网由于容量小，一般选择C类的192.168.0.0作为地址段使用，一些大型企业就需要使用B类甚至A类地址段作为内部网络的地址段。
> 最后需要补充说明的是，由于NAT和子网掩码的存在，实际在使用中，一个C类大小的局域网也可以选择A类的10.0.0.0网段作为自己的IP地址段。大多数局域网之所以仍然选择192.168.0.0/24或者192.168.1.0/24作为自己的IP地址段，更多的是因为约定成俗或者说网管个人习惯的关系。
> 我们常见的路由器默认的IP以及我们部以太网时，网关的默认IP都是192.168.1.1主要是因为192.168.0.0-192.168.255.255是一个私有IP范围。

[搞不清的内网、外网、私网、公网](https://www.jianshu.com/p/0cbfdcf4261b)
**内网和外网**
这一组概念是相对于某个组织而言的，如果你在一个局域网内（比如学校、公司等），那局域网外部的网络都叫外网， 你自己所在的网络就是内网。内网和外网只是一个相对的概念。实际上并不存在。公网和私网才是真实存在的。

**私网和公网**
公网就是人人都能访问的网络，比如[百度](www.baidu.com)。
私网顾名思义，私有网络，未经授权无法访问的网络。局域网也是某种意义上的私网。私网地址产生的一个原因是因为公网地址非常缺乏，大家不得不使用同一个公网IP地址上网。

**宽泛而言，内网≈私网 外网≈公网，不过这也得看具体场景。**

公有地址(Public address)：由 Inter NIC(Internet Network Information Center 因特网信息中心)负责。这些 IP 地址分配给注册并向Inter NIC提出申请的组织机构，公有 IP 全球唯一，通过它直接访问因特网(直接能上网)。

私有地址(Private address)：属于非注册地址，专门为组织机构内部使用，说白了，私有 IP 不能直接上网。

而我们平时通过运营商(电信、移动、联通宽带等)上网，家里面通过路由器分出来的 IP 都是私有 IP(局域网 IP)，
运营商买了一些公有 IP，然后通过这些公有 IP 分出来，再分给一个一个的用户使用。这个过程有点类似于，我们去安装了宽度，通过路由器分出几个 IP，让好几个人都能上网，当然运营商通过公有 IP 分出来的过程肯定比这个复杂多了。所以，我们平时上网用的 IP 是私有 IP，真正拥有公有 IP 的是运营商(当然，我们可以租用一个公有 IP )。所以，A 家庭的局域网 IP 和 B 家庭的局域网 IP 相同很正常，但是，最终 A 和 B 能上网(数据走出去)还是通过运营商的公有 IP，毕竟，公有 IP 的资源有限，这一片区域的用户使用的很有可能(实际上就是这样的)是同一个公有 IP。

公有IP地址：也叫全局地址，是指合法的IP地址，它是由NIC（网络信息中心）或者ISP(网络服务提供商)分配的地址，对外代表一个或多个内部局部地址，是全球统一的可寻 址的地址。

私有IP地址：也叫内部地址，属于非注册地址，专门为组织机构内部使用。因特网分配编号委员会（IANA）保留了3块IP地址做为私有IP地址。


NAT 网络地址转换
当主机本来已经分配到了本地IP地址（即仅在本专用网内使用的专用地址），但现在又想和因特网上的主机通信（并不需要加密）时，可使用NAT方法。

## NAT 基本原理
本节转载自[计算机网络：NAT基本原理](https://blog.csdn.net/qq_21125183/article/details/86487747)

NAT的基本工作原理是，当私有网主机和公共网主机通信的IP包经过NAT网关时，将IP包中的源IP或目的IP在私有IP和NAT的公共IP之间进行转换。
### NAT分类
NAT可以分为三种类型：分别是静态NAT(Static NAT)、动态地址NAT(Pooled NAT)、网络地址端口转换NAPT（Port-Level NAT）。
![](https://img-blog.csdnimg.cn/20190115095452124.jpg)
### 地址转换（静态NAT）
NAT的基本工作原理是，当私有网主机和公共网主机通信的IP包经过NAT网关时，将IP包中的源IP或目的IP在私有IP和NAT的公共IP之间进行转换。

如下图所示，NAT网关有2个网络端口，其中公共网络端口的IP地址是统一分配的公共 IP，为202.20.65.5；私有网络端口的IP地址是保留地址为192.168.1.1。私有网中的主机192.168.1.2向公共网中的主机202.20.65.4发送了1个IP包(Dst=202.20.65.4,Src=192.168.1.2)。

![](https://img-blog.csdnimg.cn/20190115100043490.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzIxMTI1MTgz,size_16,color_FFFFFF,t_70)
当IP包经过NAT网关时，NAT Gateway会将IP包的源IP转换为NAT Gateway的公共IP并转发到公共网，此时IP包（Dst=202.20.65.4，Src=202.20.65.5）中已经不含任何私有网IP的信息。由于IP包的源IP已经被转换成NAT Gateway的公共IP，Web Server发出的响应IP包（Dst= 202.20.65.5,Src=202.20.65.4）将被发送到NAT Gateway。

这时，NAT Gateway会将IP包的目的IP转换成私有网中主机的IP，然后将IP包（Des=192.168.1.2，Src=202.20.65.4）转发到私有网。对于通信双方而言，这种地址的转换过程是完全透明的。转换示意图如下。
![](https://img-blog.csdnimg.cn/2019011510012250.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzIxMTI1MTgz,size_16,color_FFFFFF,t_70)

### 连接跟踪
在上述过程中，NAT Gateway在收到响应包后，就需要判断将数据包转发给谁。此时如果子网内仅有少量客户机，可以用静态NAT手工指定；但如果内网有多台客户机，并且各自访问不同网站，这时候就需要连接跟踪（connection track）。如下图所示：
![](https://img-blog.csdnimg.cn/20190115100126627.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzIxMTI1MTgz,size_16,color_FFFFFF,t_70)

### 端口转换（网络地址端口转换NAPT）
以上述客户机访问服务器为例，当仅有一台客户机访问服务器时，NAT Gateway只须更改数据包的源IP或目的IP即可正常通讯。但是如果Client A和Client B同时访问Web Server，那么当NAT Gateway收到响应包的时候，就无法判断将数据包转发给哪台客户机，如下图所示:
![](https://img-blog.csdnimg.cn/20190115100131757.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzIxMTI1MTgz,size_16,color_FFFFFF,t_70)
此时，NAT Gateway会在Connection Track中加入端口信息加以区分。如果两客户机访问同一服务器的源端口不同，那么在Track Table里加入端口信息即可区分，如果源端口正好相同，那么在实行SNAT和DNAT的同时对源端口也要做相应的转换，如下图所示:
![](https://img-blog.csdnimg.cn/20190115100137744.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzIxMTI1MTgz,size_16,color_FFFFFF,t_70)




网络把主机连接起来，而互连网（internet）是把多种不同的网络连接起来，因此互连网是网络的网络。而互联网（Internet）是全球范围的互连网。
![](https://camo.githubusercontent.com/30269c605eac9bc8baba56e12beb83934b9641968af6a5b24bc43a2e399f20c4/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f6e6574776f726b2d6f662d6e6574776f726b732e676966)

### ISP
ISP主要的功能是要将你家里的电脑与网际网路之间搭起连线的桥梁，所以其实你会发现ISP公司其实是在网际网路的专线上，而你家里的电脑则透过电话线与ISP的电脑连接，当电话拨通时，ISP会随机(Random)的给你一组IP，以便你在Internet 上熬游。

您的互联网服务提供商（ISP）是您付费以访问互联网的公司。 无论是互联网接入（有线，DSL，拨号），ISP都可以为您或您的企业提供一条更大的管道到互联网。

所有连接互联网的设备都通过ISP运行每个请求，以访问服务器以下载网页和文件，而这些服务器本身只能通过自己的ISP为您提供这些文件。

几台计算机连接起来，互相可以看到其他人的文件，这叫局域网，整个城市的计算机都连接起来，就是城域网，把城市之间连接起来的网就叫骨干网。这些骨干网是国家批准的可以直接和国外连接的互联网。其他有接入功能的ISP（互联网服务提供商）想连到国外都得通过这些骨干网。

骨干网（Backbone Network）是用来连接多个区域或地区的高速网络。每个骨干网中至少有一个和其他骨干网进行互联互通的连接点。不同的网络供应商都拥有自己的骨干网，用以连接其位于不同区域的网络。


> 您的互联网服务提供商（ISP）是您付费以访问互联网的公司。 无论是互联网接入（有线，DSL，拨号），ISP都可以为您或您的企业提供一条更大的管道到互联网。
所有连接互联网的设备都通过ISP运行每个请求，以访问服务器以下载网页和文件，而这些服务器本身只能通过自己的ISP为您提供这些文件。
一些ISP的例子包括AT＆T，Comcast，Verizon，Cox，NetZero等等。 他们可能直接连接到家庭或企业，或通过卫星或其他技术无线发射。
假设您在家中使用笔记本电脑访问此页面。 您的网络浏览器首先使用设备上设置的DNS服务器将“”域名转换为与其相关的正确IP地址。
您要访问的IP地址然后从您的路由器发送到您的ISP，ISP将该请求转发给使用的ISP。
在这一点上，ISP可以发送这个https：// www。 / internet-service-provider-isp-2625924文件发回给您自己的ISP，它将数据转发到您的家庭路由器并返回到您的笔记本电脑。
所有这些都很快完成 - 通常在几秒钟内完成，这实际上非常了不起。
如何隐藏来自ISP的Internet通信
由于互联网服务提供商提供了所有互联网流量的路径，因此他们可以监控或记录您的互联网活动。 如果这是您的担忧，避免完成此操作的一种常用方法是使用虚拟专用网络（VPN） 。
基本上，VPN 通过您的设备通过您的ISP提供加密隧道到不同的 ISP，从而有效地隐藏您的直接ISP的所有流量，并允许您使用的VPN服务查看您的所有流量（他们通常不会监视器或日志）。
你可以在[whatismyisp](https://www.whatismyisp.com/)查看你的ISP。

### 校园组网
一些公寓楼和宿舍不需要调制解调器来进行宽带连接。如果是这种情况，您可以将路由器直接插入可用的墙壁以太网端口。

以下转载自[xw Lee的回答](https://www.zhihu.com/question/419283390/answer/1465715167)
光猫是实现光电转换功能，需要光猫的前提是有光纤接入。
额外补充一点，光猫一般来说是没得购买，都是向三大运营商申请宽带的时候运营商提供的。当然你会在淘宝上查到各种光猫在买，其实都是通过非法途径套取运营商光猫在网上卖的；还有一点，光猫不等同于路由器，它的调测过程是需要跟运营商后台系统进行交互的，如果没有运营商的师傅上门使用专用的工具是没法调通的。
一般校园网络的组网模式，都是宿舍每层楼均有一个或多台汇聚交换机，每间房间均有一根或多根网线连接交换机，在房间里面就留有对应的网口面板或网线，理论上一根网线接上电脑，输入学校提供的上网账号密码即可上网，这些网口也就是以太网。
如果您房间只有一根网线，需要满足6人同时有线上网，网线连接一台多口交换机，交换机后再连接6根网线到6台电脑上即可。如果需要整个房间都有WIFI覆盖，买一台无线路由器即可，墙上网线接路由器，交换机接在路由器后面，即可满足有线上网又可以满足WIFI上网。当然交换机不是必须的，路由器LAN口内部就是交换机，连接网线到电脑也能用。
开启WIFI 5G频段，手机连接WIFI 5G频段才有好的体验。

校园宽带都是在宿舍内留光纤，然后用光猫进行光电转换的。以XDU为例，大三学校在每个宿舍房间安装了一个光猫（应该是），并且这个光猫自带无线功能，从此在宿舍便能连接校园wifi了。

### 宽带











### 交换机


